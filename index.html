<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gerador de Carimbo - Acionamento GPON</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Arial, sans-serif; background-color: #f5f5f5; padding: 20px; line-height: 1.6; }
    .container { max-width: 1000px; margin: 0 auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,.1); overflow: hidden; }
    .header { background: #003366; color: #fff; padding: 20px; text-align: center; }
    .header h1 { font-size: 24px; margin-bottom: 5px; }
    .header p { font-size: 12px; opacity: .9; }
    .tabs { display: flex; flex-wrap: wrap; background: #004d99; border-bottom: 3px solid #003366; }
    .tab-btn { flex: 1; min-width: 140px; padding: 12px; background: #004d99; color: #fff; border: 0; cursor: pointer; font-weight: 700; font-size: 12px; transition: .3s; text-align: center; }
    .tab-btn:hover { background: #003366; }
    .tab-btn.active { background: #ff6600; border-bottom: 4px solid #ff6600; }
    .content { padding: 20px; display: none; animation: fadeIn .25s; }
    .content.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .reuse-note { background: #e8f4f8; border-left: 4px solid #0066cc; padding: 10px; margin-bottom: 15px; font-size: 11px; color: #003366; }
    .section { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background: #fafafa; }
    .section-title { font-weight: 700; color: #003366; margin-bottom: 12px; font-size: 14px; border-bottom: 2px solid #ff6600; padding-bottom: 8px; }

    .form-group { margin-bottom: 12px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .form-group.full { grid-template-columns: 1fr; }
    .form-group.three-col { grid-template-columns: 1fr 1fr 1fr; }

    label { display: block; font-size: 12px; font-weight: 700; color: #333; margin-bottom: 4px; }
    input[type="text"], input[type="email"], input[type="tel"], input[type="number"], input[type="date"], input[type="time"], textarea, select {
      width: 100%; padding: 8px; border: 1px solid #999; border-radius: 4px; font-size: 12px; font-family: Arial, sans-serif;
    }
    textarea { resize: vertical; min-height: 60px; }
    input:focus, textarea:focus, select:focus { outline: none; border-color: #ff6600; background: #fffef0; }

    .checkbox-group { display: flex; gap: 15px; margin-top: 8px; }
    .checkbox-group label { display: inline-flex; align-items: center; margin-bottom: 0; font-weight: 600; }
    .checkbox-group input[type="checkbox"], .checkbox-group input[type="radio"] { width: auto; margin-right: 6px; }

    .actions { display: flex; gap: 10px; margin-top: 20px; justify-content: space-between; flex-wrap: wrap; }
    button { padding: 10px 20px; font-size: 12px; border: 0; border-radius: 4px; cursor: pointer; font-weight: 700; transition: .3s; }
    .btn-generate { background: #ff6600; color: #fff; flex: 1; min-width: 120px; }
    .btn-generate:hover { background: #e55a00; }
    .btn-copy { background: #0066cc; color: #fff; flex: 1; min-width: 120px; }
    .btn-copy:hover { background: #0052a3; }
    .btn-clear { background: #999; color: #fff; flex: 1; min-width: 120px; }
    .btn-clear:hover { background: #777; }

    .output-section { margin-top: 20px; padding: 15px; background: #f0f0f0; border: 1px solid #ddd; border-radius: 4px; display: none; }
    .output-section.active { display: block; }
    .output-section h3 { color: #003366; margin-bottom: 10px; font-size: 14px; }
    .output-text { background: #fff; padding: 12px; border: 1px solid #999; border-radius: 4px; font-family: "Courier New", monospace; font-size: 11px; line-height: 1.6; color: #333; max-height: 300px; overflow-y: auto; white-space: pre-wrap; word-break: break-word; }
    .success-message { background: #d4edda; color: #155724; padding: 10px; border-radius: 4px; margin-top: 10px; font-size: 12px; display: none; }
    .success-message.show { display: block; }

    @media (max-width: 768px) {
      .form-group { grid-template-columns: 1fr; }
      .form-group.three-col { grid-template-columns: 1fr; }
      .tab-btn { min-width: 110px; font-size: 11px; padding: 10px; }
      .actions { flex-direction: column; }
      button { width: 100%; }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>üìã Gerador de Carimbo - RS-CAPITAL</h1>
      <p>Sistema de Acionamento - GPON - Vivo Rede</p>
    </div>

    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab('tab1', event)">ACIONAMENTO</button>
      <button class="tab-btn" onclick="switchTab('tab2', event)">DESLOCAMENTO</button>
      <button class="tab-btn" onclick="switchTab('tab3', event)">RECUPERA√á√ÉO</button>
      <button class="tab-btn" onclick="switchTab('tab4', event)">CERTIFICA√á√ÉO</button>
      <button class="tab-btn" onclick="switchTab('tab3b', event)">COMPLEMENTAR</button>
      <button class="tab-btn" onclick="switchTab('tab5', event)">N√ÉO H√Å FALHA</button>
      <button class="tab-btn" onclick="switchTab('tab6', event)">CIRE</button>
      <button class="tab-btn" onclick="switchTab('tab1b', event)">ESC. SEM EQUIPE</button>
    </div>

    <!-- TAB 1 -->
    <div id="tab1" class="content active">
      <div class="reuse-note">Os dados de SUPERVISOR/tel., T√âCNICO/tel. e ID Ocorr√™ncia s√£o reutilizados automaticamente em outros carimbos.</div>

      <div class="section">
        <div class="section-title">ACIONAMENTO</div>

        <div class="form-group full">
          <div>
            <label>ID Ocorr√™ncia</label>
            <input type="text" id="id_ocorrencia" placeholder="Ex: OCR-2024-001">
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>SUPERVISOR</label>
            <input type="text" id="supervisor" list="supervisorList" placeholder="Nome do Supervisor">
            <datalist id="supervisorList">
              <option value="Alexandre Ilha"></option>
              <option value="Diego Jaworski"></option>
              <option value="Diego Richter"></option>
              <option value="Marcio Mendes"></option>
              <option value="M√°rio Pereira"></option>
              <option value="Rodrigo Duarte"></option>
              <option value="Rodrigo Rosa"></option>
            </datalist>
          </div>

          <div>
            <label>Telefone Supervisor</label>
            <input type="tel" id="supervisor_tel" placeholder="(51) 9XXXX-XXXX">
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>T√âCNICO</label>
            <input type="text" id="tecnico" placeholder="Nome do T√©cnico">
          </div>
          <div>
            <label>Telefone T√©cnico</label>
            <input type="tel" id="tecnico_tel" placeholder="(51) 9XXXX-XXXX">
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Previs√£o de chegada ao SITE/ARO para medi√ß√µes</label>
            <input type="time" id="acionamento_prev_chegada">
          </div>

          <div>
            <label>Nome SITE/ARO para medi√ß√µes</label>
            <input type="text" id="acionamento_site" list="siteList" placeholder="Digite para pesquisar ou selecione na lista">
            <datalist id="siteList">
              <option value="RSCBM_G1N01"></option>
              <option value="RSCBM_O1A01"></option>
              <option value="RSCQU_G1I01"></option>
              <option value="RSGUB_G1N01"></option>
              <option value="RSPAE_G1B95"></option>
              <option value="RSPAE_G1C01"></option>
              <option value="RSPAE_G1I22"></option>
              <option value="RSPAE_G1I23"></option>
              <option value="RSPAE_G1I24"></option>
              <option value="RSPAE_G1I25"></option>
              <option value="RSPAE_G1I26"></option>
              <option value="RSPAE_G1I32"></option>
              <option value="RSPAE_G1I33"></option>
              <option value="RSPAE_G1I35"></option>
              <option value="RSPAE_G1I41"></option>
              <option value="RSPAE_G1I47"></option>
              <option value="RSPAE_G1I48"></option>
              <option value="RSPAE_G1I55"></option>
              <option value="RSPAE_G1N42"></option>
              <option value="RSPAE_G1N45"></option>
              <option value="RSSLE_O1A04"></option>
            </datalist>
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Analista CCR</label>
            <input type="text" id="acionamento_analista" placeholder="Nome do Analista">
          </div>
        </div>

        

        <div class="actions">
          <button class="btn-generate" onclick="generateStamp('tab1')">Gerar Carimbo</button>
          <button class="btn-clear" onclick="clearTab('tab1')">Limpar Formul√°rio</button>
        </div>
      </div>
    </div>

    <!-- TAB 1B -->
    <div id="tab1b" class="content">
      <div class="section">
        <div class="section-title">ESCALONAMENTO SEM EQUIPE</div>

        <div class="form-group full">
          <div>
            <label>ID Ocorr√™ncia</label>
            <input type="text" id="id_ocorrencia1b" placeholder="Ex: OCR-2024-001" readonly>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Cargo</label>
            <input type="text" id="escalonamento_cargo" placeholder="Ex: Coordenador, Supervisor">
          </div>
          <div>
            <label>Nome / Telefone</label>
            <input type="text" id="escalonamento_nome_tel" placeholder="Nome e telefone">
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>SLA do evento</label>
            <input type="text" id="escalonamento_sla" placeholder="Ex: 4h, 2h">
          </div>
          <div>
            <label>Observa√ß√µes</label>
            <input type="text" id="escalonamento_obs" placeholder="Observa√ß√µes">
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Analista CCR</label>
            <input type="text" id="escalonamento_analista" placeholder="Nome do Analista">
          </div>
        </div>

        <div class="actions">
          <button class="btn-generate" onclick="generateStamp('tab1b')">Gerar Carimbo</button>
          <button class="btn-clear" onclick="clearTab('tab1b')">Limpar Formul√°rio</button>
        </div>
      </div>
    </div>

    <!-- TAB 2 -->
    <div id="tab2" class="content">
      <div class="reuse-note">SUPERVISOR/tel., T√âCNICO/tel. e ID Ocorr√™ncia j√° est√£o preenchidos automaticamente.</div>

      <div class="section">
        <div class="section-title">DESLOCAMENTO AO PONTO DA FALHA</div>
        <div class="form-group full">
          <div>
            <label>ID Ocorr√™ncia</label>
            <input type="text" id="id_ocorrencia2" placeholder="Ex: OCR-2024-001" readonly>
          </div>
        </div>


        <div class="form-group">
          <div>
            <label>SUPERVISOR</label>
            <input type="text" id="supervisor2" placeholder="Nome do Supervisor" readonly>
          </div>
          <div>
            <label>Telefone Supervisor</label>
            <input type="tel" id="supervisor_tel2" placeholder="Telefone" readonly>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>T√âCNICO</label>
            <input type="text" id="tecnico2" placeholder="Nome do T√©cnico" readonly>
          </div>
          <div>
            <label>Telefone T√©cnico</label>
            <input type="tel" id="tecnico_tel2" placeholder="Telefone" readonly>
          </div>
        </div>

        

        <div class="form-group">
          <div>
            <label>KM at√© o LOCAL da falha</label>
            <input type="number" id="deslocamento_km" placeholder="Ex: 15.5" step="0.1">
          </div>
          <div>
            <label>Previs√£o de chegada ao LOCAL da falha</label>
            <input type="time" id="deslocamento_prev_chegada">
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Observa√ß√µes</label>
            <textarea id="deslocamento_obs" placeholder="Observa√ß√µes sobre o deslocamento"></textarea>
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Analista CCR</label>
            <input type="text" id="deslocamento_analista" placeholder="Nome do Analista">
          </div>
        </div>

        <div class="actions">
          <button class="btn-generate" onclick="generateStamp('tab2')">Gerar Carimbo</button>
          <button class="btn-clear" onclick="clearTab('tab2')">Limpar Formul√°rio</button>
        </div>
      </div>
    </div>

    <!-- TAB 3 -->
    <div id="tab3" class="content">
      <div class="reuse-note">SUPERVISOR/tel., T√âCNICO/tel. e ID Ocorr√™ncia j√° est√£o preenchidos automaticamente.</div>

      <div class="section">
        <div class="section-title">RECUPERA√á√ÉO DA FALHA</div>
        <div class="form-group full">
          <div>
            <label>ID Ocorr√™ncia</label>
            <input type="text" id="id_ocorrencia3" placeholder="Ex: OCR-2024-001" readonly>
          </div>
        </div>


        <div class="form-group">
          <div>
            <label>SUPERVISOR</label>
            <input type="text" id="supervisor3" placeholder="Nome do Supervisor" readonly>
          </div>
          <div>
            <label>Telefone Supervisor</label>
            <input type="tel" id="supervisor_tel3" placeholder="Telefone" readonly>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>T√âCNICO</label>
            <input type="text" id="tecnico3" placeholder="Nome do T√©cnico" readonly>
          </div>
          <div>
            <label>Telefone T√©cnico</label>
            <input type="tel" id="tecnico_tel3" placeholder="Telefone" readonly>
          </div>
        </div>

        

        <div class="form-group">
          <div>
            <label>Causa raiz</label>
            <textarea id="recuperacao_causa" placeholder="Descri√ß√£o da causa raiz"></textarea>
          </div>
          <div>
            <label>Previs√£o para solicita√ß√£o de testes</label>
            <input type="time" id="recuperacao_prev_testes">
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Endere√ßo da falha</label>
            <input type="text" id="recuperacao_endereco" placeholder="Rua, N√∫mero, Complemento">
          </div>
          <div>
            <label>Cabo / Capacidade / ARO</label>
            <input type="text" id="recuperacao_cabo" placeholder="Ex: CAB-001 48F ARO-05">
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Tratativas realizadas</label>
            <textarea id="recuperacao_tratativas" placeholder="Descreva as tratativas"></textarea>
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Observa√ß√µes</label>
            <textarea id="recuperacao_obs" placeholder="Observa√ß√µes gerais"></textarea>
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Analista CCR</label>
            <input type="text" id="recuperacao_analista" placeholder="Nome do Analista">
          </div>
        </div>

        <div class="actions">
          <button class="btn-generate" onclick="generateStamp('tab3')">Gerar Carimbo</button>
          <button class="btn-clear" onclick="clearTab('tab3')">Limpar Formul√°rio</button>
        </div>
      </div>
    </div>

    <!-- TAB 3B -->
    <div id="tab3b" class="content">
      <div class="reuse-note">ID Ocorr√™ncia j√° est√° preenchido automaticamente.</div>

      <div class="section">
        <div class="section-title">COMPLEMENTAR</div>

        <div class="form-group full">
          <div>
            <label>ID Ocorr√™ncia</label>
            <input type="text" id="id_ocorrencia3b" placeholder="Ex: OCR-2024-001" readonly>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Motivo</label>
            <input type="text" id="complementar_motivo" placeholder="Motivo da complementa√ß√£o">
          </div>
          <div>
            <label>Informa√ß√£o</label>
            <input type="text" id="complementar_info" placeholder="Informa√ß√£o adicional">
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Nova previs√£o?</label>
            <div class="checkbox-group">
              <label><input type="radio" name="nova_previsao" value="Sim"> Sim</label>
              <label><input type="radio" name="nova_previsao" value="N√£o"> N√£o</label>
            </div>
          </div>
          <div>
            <label>Previs√£o</label>
            <input type="time" id="complementar_previsao">
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Analista CCR</label>
            <input type="text" id="complementar_analista" placeholder="Nome do Analista">
          </div>
        </div>

        <div class="actions">
          <button class="btn-generate" onclick="generateStamp('tab3b')">Gerar Carimbo</button>
          <button class="btn-clear" onclick="clearTab('tab3b')">Limpar Formul√°rio</button>
        </div>
      </div>
    </div>

    <!-- TAB 4 -->
    <div id="tab4" class="content">
      <div class="reuse-note">SUPERVISOR/tel., T√âCNICO/tel. e ID Ocorr√™ncia j√° est√£o preenchidos automaticamente.</div>

      <div class="section">
        <div class="section-title">SOLICITA√á√ÉO DE CERTIFICA√á√ÉO</div>
        <div class="form-group full">
          <div>
            <label>ID Ocorr√™ncia</label>
            <input type="text" id="id_ocorrencia4" placeholder="Ex: OCR-2024-001" readonly>
          </div>
        </div>


        <div class="form-group">
          <div>
            <label>SUPERVISOR</label>
            <input type="text" id="supervisor4" placeholder="Nome do Supervisor" readonly>
          </div>
          <div>
            <label>Telefone Supervisor</label>
            <input type="tel" id="supervisor_tel4" placeholder="Telefone" readonly>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>T√âCNICO</label>
            <input type="text" id="tecnico4" placeholder="Nome do T√©cnico" readonly>
          </div>
          <div>
            <label>Telefone T√©cnico</label>
            <input type="tel" id="tecnico_tel4" placeholder="Telefone" readonly>
          </div>
        </div>

        

        <div class="form-group full">
          <div>
            <label>Tratativa realizada</label>
            <textarea id="certificacao_tratativa" placeholder="Descri√ß√£o da tratativa realizada"></textarea>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Causa</label>
            <input type="text" id="certificacao_causa" placeholder="Causa da falha">
          </div>
          <div>
            <label>Material utilizado</label>
            <input type="text" id="certificacao_material" placeholder="Ex: Conector SC, Fibra √≥ptica">
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Foto em anexo</label>
            <div class="checkbox-group">
              <label><input type="radio" name="certificacao_foto" value="Sim"> Sim</label>
              <label><input type="radio" name="certificacao_foto" value="N√£o"> N√£o</label>
            </div>
          </div>
          <div>
            <label>Analista CCR</label>
            <input type="text" id="certificacao_analista" placeholder="Nome do Analista">
          </div>
        </div>

        <div class="actions">
          <button class="btn-generate" onclick="generateStamp('tab4')">Gerar Carimbo</button>
          <button class="btn-clear" onclick="clearTab('tab4')">Limpar Formul√°rio</button>
        </div>
      </div>
    </div>

    <!-- TAB 5 -->
    <div id="tab5" class="content">
      <div class="reuse-note">SUPERVISOR/tel., T√âCNICO/tel. e ID Ocorr√™ncia j√° est√£o preenchidos automaticamente.</div>

      <div class="section">
        <div class="section-title">N√ÉO H√Å FALHA PARA REDE</div>
        <div class="form-group full">
          <div>
            <label>ID Ocorr√™ncia</label>
            <input type="text" id="id_ocorrencia5" placeholder="Ex: OCR-2024-001" readonly>
          </div>
        </div>


        <div class="form-group">
          <div>
            <label>SUPERVISOR</label>
            <input type="text" id="supervisor5" placeholder="Nome do Supervisor" readonly>
          </div>
          <div>
            <label>Telefone Supervisor</label>
            <input type="tel" id="supervisor_tel5" placeholder="Telefone" readonly>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>T√âCNICO</label>
            <input type="text" id="tecnico5" placeholder="Nome do T√©cnico" readonly>
          </div>
          <div>
            <label>Telefone T√©cnico</label>
            <input type="tel" id="tecnico_tel5" placeholder="Telefone" readonly>
          </div>
        </div>

        

        <div class="form-group full">
          <div>
            <label>Motivo da Improdutiva</label>
            <textarea id="naofalha_motivo" placeholder="Descreva o motivo da improdutiva"></textarea>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Foto em anexo</label>
            <div class="checkbox-group">
              <label><input type="radio" name="naofalha_foto" value="Sim"> Sim</label>
              <label><input type="radio" name="naofalha_foto" value="N√£o"> N√£o</label>
            </div>
          </div>
          <div>
            <label>Ciente (Gestor VIVO Rede)</label>
            <input type="text" id="naofalha_gestor" value="Jo√£o Andrioli" readonly>
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Analista CCR</label>
            <input type="text" id="naofalha_analista" placeholder="Nome do Analista">
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">ESCALONAMENTO PRAZO REPARO</div>

        <div class="form-group">
          <div>
            <label>Cargo</label>
            <input type="text" id="escalonamento_prazo_cargo" placeholder="Ex: Coordenador, Supervisor">
          </div>
          <div>
            <label>Nome / Telefone</label>
            <input type="text" id="escalonamento_prazo_nome_tel" placeholder="Nome e telefone">
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>SLA do evento</label>
            <input type="text" id="escalonamento_prazo_sla" placeholder="Ex: 4h, 2h">
          </div>
          <div>
            <label>Observa√ß√µes</label>
            <input type="text" id="escalonamento_prazo_obs" placeholder="Observa√ß√µes">
          </div>
        </div>

        <div class="actions">
          <button class="btn-generate" onclick="generateStamp('tab5')">Gerar Carimbo</button>
          <button class="btn-clear" onclick="clearTab('tab5')">Limpar Formul√°rio</button>
        </div>
      </div>
    </div>

    <!-- TAB 6 -->
    <div id="tab6" class="content">
      <div class="reuse-note">ID Ocorr√™ncia j√° est√° preenchido automaticamente.</div>

      <div class="section">
        <div class="section-title">INTERVEN√á√ÉO CIRE</div>

        <div class="form-group full">
          <div>
            <label>ID Ocorr√™ncia</label>
            <input type="text" id="id_ocorrencia6" placeholder="Ex: OCR-2024-001" readonly>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Solicitante</label>
            <input type="text" id="cire_solicitante" placeholder="Nome do Solicitante">
          </div>

          <div>
            <label>Meio de contato</label>
            <div class="checkbox-group">
              <label><input type="radio" name="cire_contato" value="Telefone"> Telefone</label>
              <label><input type="radio" name="cire_contato" value="E-mail"> E-mail</label>
              <label><input type="radio" name="cire_contato" value="WhatsApp"> WhatsApp</label>
            </div>
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Motivo</label>
            <textarea id="cire_motivo" placeholder="Descreva o motivo da interven√ß√£o CIRE"></textarea>
          </div>
        </div>

        <div class="form-group full">
          <div>
            <label>Informa√ß√£o</label>
            <textarea id="cire_info" placeholder="Informa√ß√µes adicionais"></textarea>
          </div>
        </div>

        <div class="form-group">
          <div>
            <label>Previs√£o</label>
            <input type="time" id="cire_previsao">
          </div>
          <div>
            <label>Analista CCR</label>
            <input type="text" id="cire_analista" placeholder="Nome do Analista">
          </div>
        </div>

        <div class="actions">
          <button class="btn-generate" onclick="generateStamp('tab6')">Gerar Carimbo</button>
          <button class="btn-clear" onclick="clearTab('tab6')">Limpar Formul√°rio</button>
        </div>
      </div>
    </div>

    <!-- OUTPUT -->
    <div id="output" class="output-section">
      <h3>Carimbo de Texto Gerado</h3>
      <div class="output-text" id="outputText"></div>

      <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap;">
        <button class="btn-copy" onclick="copyToClipboard()">Copiar para √Årea de Transfer√™ncia</button>
        <button class="btn-copy" onclick="sendToWhatsApp()" style="background:#25d366;">Enviar via WhatsApp</button>
      </div>

      <div class="success-message" id="successMessage">Texto copiado para a √°rea de transfer√™ncia!</div>
    </div>
  </div>

  <script>
    // Preencha os telefones reais aqui:
    // Dica: as chaves s√£o normalizadas (sem acento, min√∫sculas), ent√£o "M√°rio" e "Mario" funcionam.
    const supervisorPhones = {
      "alexandre ilha": "(51) 99753-4576",
      "diego jaworski": "(51) 99670-7110",
      "diego richter": "(51) 99754-9214",
      "marcio mendes": "(51) 99589-2075",
      "mario pereira": "(51) 99837-8234",
      "rodrigo duarte": "(51) 99758-7793",
      "rodrigo rosa": "(51) 99840-6074"
    };

    function normalizeName(str) {
      return (str || "")
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .toLowerCase()
        .trim();
    }

    function switchTab(tabName, event) {
      const contents = document.querySelectorAll(".content");
      const buttons = document.querySelectorAll(".tab-btn");

      contents.forEach(c => c.classList.remove("active"));
      buttons.forEach(b => b.classList.remove("active"));

      document.getElementById(tabName).classList.add("active");
      if (event && event.target) event.target.classList.add("active");

      document.getElementById("output").classList.remove("active");
    }

    function setValueIfExists(id, value) {
      const el = document.getElementById(id);
      if (el) el.value = value;
    }

    function updateReusableFields() {
      const supervisor = document.getElementById("supervisor").value;
      const supervisorTel = document.getElementById("supervisor_tel").value;
      const tecnico = document.getElementById("tecnico").value;
      const tecnicoTel = document.getElementById("tecnico_tel").value;
      const idOcorrencia = document.getElementById("id_ocorrencia").value;

      // Replica Supervisor/T√©cnico nas abas 2 a 5
      for (let i = 2; i <= 5; i++) {
        setValueIfExists(`supervisor${i}`, supervisor);
        setValueIfExists(`supervisor_tel${i}`, supervisorTel);
        setValueIfExists(`tecnico${i}`, tecnico);
        setValueIfExists(`tecnico_tel${i}`, tecnicoTel);
      }

      // Replica ID Ocorr√™ncia nos demais carimbos
      setValueIfExists("id_ocorrencia1b", idOcorrencia);
      setValueIfExists("id_ocorrencia2", idOcorrencia);
      setValueIfExists("id_ocorrencia3", idOcorrencia);
      setValueIfExists("id_ocorrencia3b", idOcorrencia);
      setValueIfExists("id_ocorrencia4", idOcorrencia);
      setValueIfExists("id_ocorrencia5", idOcorrencia);
      setValueIfExists("id_ocorrencia6", idOcorrencia);
    }

    // Supervisor: pesquisa + sele√ß√£o + telefone autom√°tico
    document.getElementById("supervisor").addEventListener("input", () => {
      const nome = document.getElementById("supervisor").value;
      const tel = supervisorPhones[normalizeName(nome)];
      if (tel) document.getElementById("supervisor_tel").value = tel;
      updateReusableFields();
    });

    // Atualiza reuso ao editar manualmente
    document.getElementById("supervisor_tel").addEventListener("input", updateReusableFields);
    document.getElementById("tecnico").addEventListener("input", updateReusableFields);
    document.getElementById("tecnico_tel").addEventListener("input", updateReusableFields);
    document.getElementById("id_ocorrencia").addEventListener("input", updateReusableFields);

    function generateStamp(tabName) {
      let stamp = "";

      if (tabName === "tab1") {
        const supervisor = document.getElementById("supervisor").value;
        const supervisorTel = document.getElementById("supervisor_tel").value;
        const tecnico = document.getElementById("tecnico").value;
        const tecnicoTel = document.getElementById("tecnico_tel").value;
        const prevChegada = document.getElementById("acionamento_prev_chegada").value;
        const site = document.getElementById("acionamento_site").value;
        const analista = document.getElementById("acionamento_analista").value;
        const idOcorrencia = document.getElementById("id_ocorrencia").value;

        stamp = `
1 ‚Äì ACIONAMENTO
ID Ocorr√™ncia: ${idOcorrencia}

SUPERVISOR: ${supervisor}
Telefone: ${supervisorTel}

T√âCNICO: ${tecnico}
Telefone: ${tecnicoTel}

Previs√£o de chegada ao SITE/ARO para medi√ß√µes: ${prevChegada}
Nome SITE/ARO para medi√ß√µes: ${site}

Analista CCR: ${analista}`.trim();

      } else if (tabName === "tab1b") {
        const idOcorrencia = document.getElementById("id_ocorrencia1b").value;
        const cargo = document.getElementById("escalonamento_cargo").value;
        const nomeTel = document.getElementById("escalonamento_nome_tel").value;
        const sla = document.getElementById("escalonamento_sla").value;
        const obs = document.getElementById("escalonamento_obs").value;
        const analista = document.getElementById("escalonamento_analista").value;

        stamp = `
ESCALONAMENTO SEM EQUIPE
ID Ocorr√™ncia: ${idOcorrencia}

Cargo: ${cargo}
Nome/Tel.: ${nomeTel}
SLA do evento: ${sla}
Obs.: ${obs}
Analista CCR: ${analista}`.trim();

      } else if (tabName === "tab2") {
        const supervisor = document.getElementById("supervisor2").value;
        const supervisorTel = document.getElementById("supervisor_tel2").value;
        const tecnico = document.getElementById("tecnico2").value;
        const tecnicoTel = document.getElementById("tecnico_tel2").value;
        const idOcorrencia = document.getElementById("id_ocorrencia2").value;

        const km = document.getElementById("deslocamento_km").value;
        const prevChegada = document.getElementById("deslocamento_prev_chegada").value;
        const obs = document.getElementById("deslocamento_obs").value;
        const analista = document.getElementById("deslocamento_analista").value;

        stamp = `
2 ‚Äì DESLOCAMENTO AO PONTO DA FALHA
ID Ocorr√™ncia: ${idOcorrencia}

SUPERVISOR: ${supervisor}
Telefone: ${supervisorTel}

T√âCNICO: ${tecnico}
Telefone: ${tecnicoTel}

KM at√© o LOCAL da falha: ${km} km
Previs√£o de chegada ao LOCAL da falha: ${prevChegada}

Obs.: ${obs}
Analista CCR: ${analista}`.trim();

      } else if (tabName === "tab3") {
        const supervisor = document.getElementById("supervisor3").value;
        const supervisorTel = document.getElementById("supervisor_tel3").value;
        const tecnico = document.getElementById("tecnico3").value;
        const tecnicoTel = document.getElementById("tecnico_tel3").value;
        const idOcorrencia = document.getElementById("id_ocorrencia3").value;

        const causa = document.getElementById("recuperacao_causa").value;
        const prevTestes = document.getElementById("recuperacao_prev_testes").value;
        const endereco = document.getElementById("recuperacao_endereco").value;
        const cabo = document.getElementById("recuperacao_cabo").value;
        const tratativas = document.getElementById("recuperacao_tratativas").value;
        const obs = document.getElementById("recuperacao_obs").value;
        const analista = document.getElementById("recuperacao_analista").value;

        stamp = `
3 ‚Äì RECUPERA√á√ÉO DA FALHA
ID Ocorr√™ncia: ${idOcorrencia}

SUPERVISOR: ${supervisor}
Telefone: ${supervisorTel}

T√âCNICO: ${tecnico}
Telefone: ${tecnicoTel}

Causa raiz: ${causa}
Previs√£o para solicita√ß√£o de testes: ${prevTestes}
Endere√ßo da falha: ${endereco}
Cabo/Capacidade/ARO: ${cabo}

Tratativas realizadas: ${tratativas}

Obs.: ${obs}
Analista CCR: ${analista}`.trim();

      } else if (tabName === "tab3b") {
        const idOcorrencia = document.getElementById("id_ocorrencia3b").value;
        const motivo = document.getElementById("complementar_motivo").value;
        const info = document.getElementById("complementar_info").value;
        const novaPrevisao = document.querySelector("input[name='nova_previsao']:checked")?.value || "";
        const previsao = document.getElementById("complementar_previsao").value;
        const analista = document.getElementById("complementar_analista").value;

        stamp = `
3B ‚Äì COMPLEMENTAR
ID Ocorr√™ncia: ${idOcorrencia}

Motivo: ${motivo}
Informa√ß√£o: ${info}
Nova previs√£o: ${novaPrevisao}
Previs√£o: ${previsao}
Analista CCR: ${analista}`.trim();

      } else if (tabName === "tab4") {
        const supervisor = document.getElementById("supervisor4").value;
        const supervisorTel = document.getElementById("supervisor_tel4").value;
        const tecnico = document.getElementById("tecnico4").value;
        const tecnicoTel = document.getElementById("tecnico_tel4").value;
        const idOcorrencia = document.getElementById("id_ocorrencia4").value;

        const tratativa = document.getElementById("certificacao_tratativa").value;
        const causa = document.getElementById("certificacao_causa").value;
        const material = document.getElementById("certificacao_material").value;
        const foto = document.querySelector("input[name='certificacao_foto']:checked")?.value || "";
        const analista = document.getElementById("certificacao_analista").value;

        stamp = `
4 ‚Äì SOLICITA√á√ÉO DE CERTIFICA√á√ÉO
ID Ocorr√™ncia: ${idOcorrencia}

SUPERVISOR: ${supervisor}
Telefone: ${supervisorTel}

T√âCNICO: ${tecnico}
Telefone: ${tecnicoTel}

Tratativa realizada: ${tratativa}
Causa: ${causa}
Material utilizado: ${material}
Foto em anexo: ${foto}
Analista CCR: ${analista}`.trim();

      } else if (tabName === "tab5") {
        const supervisor = document.getElementById("supervisor5").value;
        const supervisorTel = document.getElementById("supervisor_tel5").value;
        const tecnico = document.getElementById("tecnico5").value;
        const tecnicoTel = document.getElementById("tecnico_tel5").value;
        const idOcorrencia = document.getElementById("id_ocorrencia5").value;

        const motivo = document.getElementById("naofalha_motivo").value;
        const foto = document.querySelector("input[name='naofalha_foto']:checked")?.value || "";
        const gestor = document.getElementById("naofalha_gestor").value;
        const analista = document.getElementById("naofalha_analista").value;

        const cargo = document.getElementById("escalonamento_prazo_cargo").value;
        const nomeTel = document.getElementById("escalonamento_prazo_nome_tel").value;
        const sla = document.getElementById("escalonamento_prazo_sla").value;
        const obs = document.getElementById("escalonamento_prazo_obs").value;

        stamp = `
N√ÉO H√Å FALHA PARA REDE
ID Ocorr√™ncia: ${idOcorrencia}

SUPERVISOR: ${supervisor}
Telefone: ${supervisorTel}

T√âCNICO: ${tecnico}
Telefone: ${tecnicoTel}

Motivo da improdutiva: ${motivo}
Foto em anexo: ${foto}
Ciente (Gestor VIVO Rede): ${gestor}
Analista CCR: ${analista}

ESCALONAMENTO PRAZO REPARO
Cargo: ${cargo}
Nome/Tel.: ${nomeTel}
SLA do evento: ${sla}
Obs.: ${obs}`.trim();

      } else if (tabName === "tab6") {
        const idOcorrencia = document.getElementById("id_ocorrencia6").value;
        const solicitante = document.getElementById("cire_solicitante").value;
        const contato = document.querySelector("input[name='cire_contato']:checked")?.value || "";
        const motivo = document.getElementById("cire_motivo").value;
        const info = document.getElementById("cire_info").value;
        const previsao = document.getElementById("cire_previsao").value;
        const analista = document.getElementById("cire_analista").value;

        stamp = `
INTERVEN√á√ÉO CIRE
ID Ocorr√™ncia: ${idOcorrencia}

Solicitante: ${solicitante}
Meio de contato: ${contato}

Motivo: ${motivo}
Informa√ß√£o: ${info}

Previs√£o: ${previsao}
Analista CCR: ${analista}`.trim();
      }

      document.getElementById("outputText").textContent = stamp;
      document.getElementById("output").classList.add("active");
      document.getElementById("output").scrollIntoView({ behavior: "smooth" });
    }

    function copyToClipboard() {
      const outputText = document.getElementById("outputText").textContent;
      navigator.clipboard.writeText(outputText).then(() => {
        const msg = document.getElementById("successMessage");
        msg.classList.add("show");
        setTimeout(() => msg.classList.remove("show"), 3000);
      }).catch(err => alert("Erro ao copiar: " + err));
    }

    function sendToWhatsApp() {
      const outputText = document.getElementById("outputText").textContent;
      if (!outputText.trim()) {
        alert("Nenhum carimbo gerado. Gere o carimbo primeiro.");
        return;
      }
      const encodedText = encodeURIComponent(outputText);
      window.open(`https://wa.me/?text=${encodedText}`, "_blank");
    }

    function clearTab(tabName) {
      const inputs = document.querySelectorAll(`#${tabName} input, #${tabName} textarea, #${tabName} select`);
      inputs.forEach(input => {
        // N√£o limpar campos fixos (readonly/disabled) como ID replicado e Gestor
        if (input.readOnly || input.disabled) return;
        if (input.type === "radio" || input.type === "checkbox") {
          input.checked = false;
        } else {
          input.value = "";
        }
      });

      // Ap√≥s limpar a aba 1, refaz a replica√ß√£o (para limpar as readonly tamb√©m)
      if (tabName === "tab1") updateReusableFields();

      document.getElementById("output").classList.remove("active");
    }
  </script>
</body>
</html>
